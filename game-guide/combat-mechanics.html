<!--
title: Combat Mechanics
description: nerd level detail on blowing stuff up
published: 0
date: 2022-05-03T01:07:58.669Z
tags: 
editor: ckeditor
dateCreated: 2022-04-29T22:25:28.822Z
-->

<h1>Combat Mechanics</h1>
<h4>How the Titillating Lasers Tickle</h4>
<p>Nearly always, when a question is ask about how combat in SMR works, the correct answer is “it depends”. &nbsp;Player level factors in to everything. &nbsp;Port and planet levels may also be key. &nbsp;How many connecting sectors there are might decide the fate of your ship. &nbsp;There's a maneuverability rating factor that changes depending how damaged your ship is. &nbsp;Random numbers are sometimes weighted to reduce the chance of successive hits or misses. &nbsp;There is a very lot going on behind the scenes.</p>
<p>&nbsp;</p>
<h2>Hardpoint Weapons</h2>
<p>Hardpoint weapons deal reliable, customizable damage that scales very well with level. &nbsp;The more of them you can get, the more damage you can do. &nbsp;In the hand of a knowledgeable player, nothing is more deadly.</p>
<p>&nbsp;</p>
<h3>Firing Weapons at Forces, Ports, or Planets</h3>
<p>Player Level Accuracy Modifier = lvlMod = &nbsp;( level<sup>2</sup> &nbsp;/ 60 ) + ( level / 2 ) + 2</p>
<p>This standard modifier provides a bonus to all players attacking environmental targets. &nbsp;It starts at 2.5% at level 1 and increases to 68.7% at level 50.</p>
<p>Ports, planets, and forces each have a different defensive modifier:</p>
<ul>
  <li>Ports reduce accuracy by two points per port level. &nbsp;That's 2% at level 1 and 18% at level 9.</li>
  <li>Planets reduce accuracy by 0.286% per level. &nbsp;A level 45 planet costs us 12.9%.</li>
  <li>Forces have no defensive modifiers.</li>
</ul>
<p>All of these modifiers are multiplicative. &nbsp;In other words, the adjustments they make are proportionate to the accuracy of the weapon being fired. &nbsp;The final result is a players modifier less whichever defensive bonus applies to the situation.</p>
<p>&nbsp;</p>
<h3>Firing Weapons at Ships</h3>
<p>Attacker Level Accuracy Modifier = alvlMod = &nbsp;( attLvl<sup>2</sup> &nbsp;/ 60 ) + ( level / 2 ) + 2</p>
<p>Defender Level Accuracy Modifier = dlvlMod = [ ( defLvl<sup>2</sup> &nbsp;/ 60 ) + ( level / 2 ) + 2 ] / 2</p>
<p>Ship MR Rating Modifier = mrMod = attMR - defMR</p>
<p>Modified Accuracy = weaponAccuracy * [ 1 + (alvlMod - dlvlMod { + mrMod if negative } ) ]&nbsp;</p>
<p>A couple notes on this:</p>
<ul>
  <li>MR can only reduce weapon accuracy. &nbsp;Low single digit numbers penalties are common. &nbsp;Low double digits will happen under more extreme circumstances.</li>
  <li>Defensive level bonus are half of offensive. &nbsp;That means defenders reduce the attackers accuracy between 1.25% and 34.4% depending on defender level.</li>
</ul>
<p>&nbsp;</p>
<h4>Weighted Random</h4>
<p>The purpose of the weighted random algorithm is to make the result of shots more quickly reflect their true accuracy. &nbsp;This limits successive hits or misses that occur naturally when random events are generated. &nbsp;It is best to keep in mind that, while this part of the game may drastically chance your chance to hit, it is doing so to seek the modified accuracy as described above.</p>
<p>The mechanics of this algorithm, while a bit counter intuitive, are quite simple. &nbsp;For each player, for each type of weapon, a weighted random variable is stored. &nbsp;Each shot, not guaranteed to hit or miss, adjusts the weighted random variable. &nbsp;In effect, each miss will increase a chance to hit on the following shot. &nbsp;And each hit will decrease the chance to hit on the following shot. &nbsp;It looks like this:</p>
<p>On a hit: weight = weight + [ (100 - modifiedAccuracy) x 0.50 ]</p>
<p>On a miss: weight = weight + [ ( -1 x modifiedAccuracy / 100) x 0.50 ]</p>
<p>Effective Firing Accuracy = modifiedAccuracy - weight</p>
<p>&nbsp;</p>
<h2>Combat Drones</h2>
<p>Combat drones are a much more chaotic weapon system compared to hardpoints. &nbsp;Their performance is quite inconsistent; planets and ports behave one way, ships behave different ways depending on what they're shooting at, and there is often large variation in damage output. &nbsp;These things are downright fearsome when launched from an environmental target and mildly disappointing when launched from a ship.</p>
<p>Combat drones tend to disappoint, from a player perspective, for a few reasons:&nbsp;</p>
<ul>
  <li>They always fire last. &nbsp;This is unfortunate for two reasons: drones deal rollover damage, which is more valuable up front. &nbsp;And it is easier to find hardpoint weapons that deal armor damage. &nbsp;This is literally the least optimal place they could launch.</li>
  <li>Their maneuverability cost is high. &nbsp;Each 5 drones costs 1 point of maneuverability rating. &nbsp;This leads to drone heavy ships, particularly Ik'Thorne, having terrible MR which leads to penalties while firing.</li>
  <li>Drones die. &nbsp;Losing part, or most, of your guns half way through a battle is not good for your future. &nbsp;This is another reason Ik'Thorne ships perform so poorly in player vs player combat.</li>
</ul>
<p>That being said, combat drones deal a substantial amount of damage.</p>
<p>&nbsp;</p>
<h3>Firing Drones at Forces, Ports, or Planets</h3>
<p>The algorithm that determines how many drones are launched is most simple when firing at environmental targets. &nbsp;Player level has no effect. &nbsp;There are no defensive modifiers. &nbsp;That simplicity makes it a good place to start. &nbsp;The equation looks like this:</p>
<p>Drones Launched = random(6 to 57)</p>
<p>The number of drones launched when attacking the environment is a percentage of the total alive on your ship. &nbsp;This is effectively a random number generated between 6% and 57%. &nbsp;On average, 31.5% of drones launch. &nbsp;They always hit. &nbsp;They always deal 2 damage. &nbsp;Given these facts, combat drones can be modeled as dealing 63 DPS per 100 drones alive at the time of firing. &nbsp;The variation is quite extreme, but eventually the law of large numbers will bring the average to 31.5%.</p>
<p>Now, a bit about where that 6-57% came from. &nbsp;A ship firing drones has, before modifiers, a 3% base accuracy. &nbsp;A random number is generated between 3 and 54. &nbsp;That random number is added to the base accuracy which gives us a minimum possible of 6 and a max possible of 57. &nbsp;Environmental targets have no offensive or defensive modifiers concerning combat drones. &nbsp;We press attack, we get somewhere between 6 and 57 percent launched, we deal between 12 and 114 damage per hundred drones. &nbsp;It's simple, boring damage.</p>
<p>&nbsp;</p>
<h3>Firing Drones at Ships</h3>
<p>Players versus player combat is where drones get a little complicated. &nbsp;That 6 to 57% random is still the same. &nbsp;But now we have modifiers based on attacker level, defender level, and ship maneuverability rating. &nbsp;They look like this:</p>
<p>Attacker Modifier = attMod = random(half player level to player level)</p>
<p>Level Modifier = lvlMod = (Attacker Level &nbsp;- Defender Level) / 3</p>
<p>Ship MR Rating Modifier = mrMod = attMR - defMR</p>
<p>And these modifiers affect the launch % as follows:</p>
<p>PvP Drones Launched = [ (random(6 to 57) + attMod + lvlMod) / 1.5 ] &nbsp;+ (MRmod if number is negative)</p>
<p>Some notes on this:</p>
<ul>
  <li>MRmod can only reduce drones launched. &nbsp;This penalty is particularly painful for the ITMS which loses 3-6% of its drone launches even when firing on other capital ships.</li>
  <li>While this equation can generate negative numbers, the minimum launched is 0.</li>
  <li>Expected launches to average 25-35% in common, low level combat between similar ships.</li>
</ul>
<p>&nbsp;</p>
<h3>Taking Damage from Forces, Ports, or Planets</h3>
<p>Maneuverability rating is not factored in to planet, port, or dropped force fire. &nbsp;This may be because none of those environmental things have MR and the existing algorithms are designed around a MR delta.</p>
<p>Structural planetary turret receive half of the planet level as an additive accuracy bonus.</p>
<p>Protoplanet hardpoints do not receive planet level based bonuses. &nbsp;They only improve accuracy through radar station structures which provide an additive bonus.</p>
<p>Port turrets fire at a flat 90% before defensive modifiers.</p>
<p>Defensive level bonuses are applied when receiving damage from any environmental source. &nbsp;This becomes very noticeable during raids or busts. &nbsp;High level traders will be missed quite often.</p>
<p>&nbsp;</p>
